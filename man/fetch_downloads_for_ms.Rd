% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/microsite-events.R
\name{fetch_downloads_for_ms}
\alias{fetch_downloads_for_ms}
\title{Download data on document downloads for a page with the given URL on the
Commons Library microsite}
\usage{
fetch_downloads_for_ms(
  url,
  start_date,
  end_date,
  match_exact = FALSE,
  internal = FALSE,
  by_date = FALSE,
  anti_sample = FALSE,
  use_resource_quotas = FALSE
)
}
\arguments{
\item{url}{The URL of a page for which downloads data is requested.}

\item{start_date}{The start date as an ISO 8601 string.}

\item{end_date}{The end date as an ISO 8601 string.}

\item{match_exact}{A boolean indicating whether to match only pages with the
exact URL or pages which start with the URL. In general, if you need
traffic data for individual insights and research briefings you don't want
to use an exact match, as it will exclude requests for the page that
contained query strings, which are sometimes used for tracking marketing
campaigns. However, when fetching traffic data for category pages an
exact match is necessary to exclude other pages with same URL stem. The
default is FALSE.}

\item{internal}{A boolean indicating whether to return only the results for
traffic from internal parliamentary networks. The default is FALSE.}

\item{by_date}{A boolean indicating whether to return the results broken
down by date. The default is FALSE.}

\item{anti_sample}{A boolean indicating whether to use googleAnalyticsR's
anti-sample feature, which chunks API calls to keep the number of records
requested under the API limits that trigger sampling. This makes the
download process slower but ensures that all records are returned. Only
use this feature if you see that an API request triggers sampling without
it. The default is FALSE.}

\item{use_resource_quotas}{A boolean indicating whether to use the resource
quotas in Parliament's Google Analytics account to prevent sampling.
This is a faster and more effective way to disable sampling than using
\code{anti_sample}, but using resource quotas consumes tokens from a
limited daily quota. Use this when \code{anti_sample} still fails to
prevent sampling or is taking too long. Note that using resource quotas
takes precendence over anti-samping: if \code{use_resource_quotas} is TRUE
\code{anti_sample} is automatically set to FALSE. The default is FALSE.}
}
\value{
A tibble of document download metrics.
}
\description{
\code{fetch_downloads_for_ms} downloads data on document download metrics
for a given url on the Commons Library microsite during the given dates and
returns the data as a tibble.
}
